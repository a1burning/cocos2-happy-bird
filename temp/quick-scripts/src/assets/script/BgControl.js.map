{"version":3,"sources":["assets/script/BgControl.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;;;;;;;;;;;;;;AAEtF,6CAAwC;AAClC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAuC,6BAAY;IAAnD;QAAA,qEAmCC;QAlCG,KAAK;QAEL,WAAK,GAAW,CAAC,CAAC;QAElB,KAAK;QAEL,WAAK,GAAW,GAAG,CAAC;QAEpB,qCAAqC;QAErC,UAAI,GAAgB,IAAI,CAAC;;IAwB7B,CAAC;IAtBG,yBAAK,GAAL;QAAA,iBASC;QARG,SAAS;QACT,KAAc,UAAkB,EAAlB,KAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;YAA9B,IAAI,EAAE,SAAA;YACN,iBAAiB;YACjB,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE;gBAChC,gBAAgB;gBAChB,KAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,0BAAM,GAAN,UAAQ,EAAE;QACN,iBAAiB;QACjB,KAAe,UAAkB,EAAlB,KAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;YAA9B,IAAI,EAAE,SAAA;YACP,aAAa;YACb,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YACxB,0BAA0B;YAC1B,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBACrB,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;aAC1B;SACJ;IACL,CAAC;IA/BD;QADC,QAAQ;4CACS;IAIlB;QADC,QAAQ;4CACW;IAIpB;QADC,QAAQ,CAAC,qBAAW,CAAC;2CACG;IAXR,SAAS;QAD7B,OAAO;OACa,SAAS,CAmC7B;IAAD,gBAAC;CAnCD,AAmCC,CAnCsC,EAAE,CAAC,SAAS,GAmClD;kBAnCoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport BirdControl from './BirdControl';\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class BgControl extends cc.Component {\n    // 速度\n    @property\n    speed: number = 4;\n\n    // 宽度\n    @property\n    width: number = 288;\n\n    // 小鸟控制器，通过属性的方式将小鸟的节点传进来，这样小鸟的组件也会过来\n    @property(BirdControl)\n    bird: BirdControl = null;\n\n    start() {\n        // 点击背景监听\n        for(let bg of this.node.children) {\n            // 给每一个组件都用鼠标进行监听\n            bg.on(cc.Node.EventType.MOUSE_DOWN, () => {\n                // 调用小鸟脚本中的fly方法\n                this.bird.fly();\n            });\n        }\n    }\n\n    update (dt) {\n        // 获取两个背景的子节点进行移动\n        for (let bg of this.node.children) {\n            // 每秒往左边移动4像素\n            bg.x -= this.speed * dt;\n            // 如果一个背景超出屏幕，就移动到另一个背景的右边\n            if (bg.x <= -this.width) {\n                bg.x += this.width * 2;\n            }\n        }\n    }\n}\n"]}